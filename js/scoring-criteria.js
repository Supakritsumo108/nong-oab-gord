// ไฟล์: js/scoring-criteria.js
// เก็บเกณฑ์การให้คะแนนและแปลผลทั้งหมด

// ========== ST-5 ==========
export const ST5_CRITERIA = {
  questions: [
    "มีปัญหาการนอน นอนไม่หลับ หรือนอนมาก?",
    "ในช่วงนี้มีสมาธิน้อยลง?",
    "หงุดหงิด/กระวนกระวาย/ว้าวุ่นใจ?",
    "รู้สึกเบื่อ เซ็ง?",
    "ในช่วงนี้มีรู้สึกไม่อยากออกไปไหน หรือไม่อยากพบปะผู้คนไหม?",
  ],
  levels: [
    {
      max: 4,
      label: "ความเครียดน้อย",
      advice: "เป็นความเครียดที่เกิดขึ้นได้ในชีวิตประจำวัน พี่ๆสามารถปรับตัวได้เองอีกด้วย",
      class: "level-normal",
    },
    {
      max: 7,
      label: "ความเครียดปานกลาง",
      advice: "พี่ๆอาจมีความเครียด ซึ่งมันเป็นเรื่องปกติมากๆเลยค่ะ พี่ๆจะแก้ปัญหาและการเผชิญปัญหาที่ดีขึ้น พี่ๆเก่งมากๆเลยนะคะ",
      class: "level-mild",
    },
    {
      max: 9,
      label: "ความเครียดมาก",
      advice: "ถึงจะเครียด แต่พี่ๆยังพยายามมาถึงวันนี้ได้ ถือว่าเก่งมากนะคะขอให้รู้ว่าความรู้สึกเหล่านี้ผ่านไปได้ พี่ๆไม่ได้ต้องรับมือคนเดียวค่ะ",
      class: "level-high",
    },
    {
      max: Infinity,
      label: "ความเครียดมากที่สุด",
      advice: "ตอนนี้พี่ๆกำลังเผชิญความเครียดหนักมากจริงๆนะคะ พี่ๆไม่จำเป็นต้องเข้มแข็งคนเดียวค่ะ น้องโอบกอดพร้อมอยู่ข้างๆ และช่วยพี่ๆก้าวผ่านช่วงนี้ไปด้วยกันค่ะ",
      class: "level-severe",
    },
  ],
};

// ========== 2Q ==========
export const TWO_Q_CRITERIA = {
  questions: [
    "ใน 2 สัปดาห์ที่ผ่านมารวมวันนี้ ท่านรู้สึกหดหู่ เศร้า หรือท้อแท้สิ้นหวังหรือไม่?",
    "ใน 2 สัปดาห์ที่ผ่านมารวมวันนี้ ท่านรู้สึกเบื่อ ทำอะไรก็ไม่เพลิดเพลินหรือไม่?",
  ],
  results: {
    noRisk: {
      icon: "✅",
      title: "ปกติ",
      titleColor: "#28a745",
      description: "ผลประเมินตอนนี้อยู่ในเกณฑ์ปกติค่ะ แต่ถ้าวันไหนรู้สึกเหนื่อยหรือกังวล สามารถมาขอคำปรึกษาได้เลยนะคะพี่ๆไม่ได้อยู่คนเดียวค่ะ",
      nextAction: "backToMenu",
    },
    hasRisk: {
      icon: "⚠️",
      title: "พบความเสี่ยง",
      titleColor: "#dc3545",
      description:
        "ช่วงนี้อาจเป็นเวลาที่หนักสำหรับพี่ๆนะคะ พี่ๆไม่ได้อยู่คนเดียวนะคะ น้องโอบกอบพร้อมอยู่ข้างพี่ๆ น้องโอบกอดแนะนำให้พี่ๆทำแบบประเมินในลำดับถัดไปค่ะ",
      nextAction: "go9Q",
    },
  },
};

// ========== 9Q ==========
export const NINE_Q_CRITERIA = {
  questions: [
    "ใน 2 สัปดาห์ที่ผ่านมาจนถึงวันนี้ ท่านมีอาการเบื่อ ไม่สนใจที่จะอยากทำอะไรบ่อยแค่ไหน",
    "ไม่สบายใจ ซึมเศร้า ท้อแท้",
    "หลับยาก หรือหลับๆ ตื่นๆ หรือหลับมากไป",
    "เหนื่อยง่าย หรือ ไม่ค่อยมีแรง",
    "เบื่ออาหาร หรือ กินมากเกินไป",
    "รู้สึกไม่ดีกับตัวเอง คิดว่าตัวเองล้มเหลว หรือทำให้ครอบครัวผิดหวัง",
    "สมาธิไม่ดีเวลาทำอะไร เช่น ดูโทรทัศน์ ฟังวิทยุ หรือทำงานที่ต้องใช้ความตั้งใจ",
    "พูดช้า ทำอะไรช้าลง จนคนอื่นสังเกตเห็นได้ หรือกระสับกระส่ายไม่สามารถอยู่นิ่งได้เหมือนที่เคยเป็น",
    "คิดทำร้ายตนเอง หรือคิดว่าถ้าตายไปคงจะดี",
  ],
  levels: [
    {
      max: 6,
      label: "ปกติ",
      advice: "ไม่มีอาการซึมเศร้า หรือมีก็น้อยมาก สบายใจได้ครับ",
      class: "level-normal",
      nextAction: "backToMenu",
      needSuicide: false,
    },
    {
      max: 12,
      label: "ซึมเศร้าระดับน้อย",
      advice: "ควรพักผ่อนให้เพียงพอ พูดคุยกับคนใกล้ชิด",
      class: "level-mild",
      nextAction: "backToMenu",
      needSuicide: false,
    },
    {
      max: 18,
      label: "ซึมเศร้าระดับปานกลาง",
      advice: "ควรปรึกษาแพทย์ และประเมินการฆ่าตัวตาย (8Q) ต่อ",
      class: "level-moderate",
      nextAction: "go8Q",
      needSuicide: true,
    },
    {
      max: Infinity,
      label: "ซึมเศร้าระดับรุนแรง",
      advice: "โปรดพบแพทย์โดยเร็ว เพื่อรับการดูแลรักษาอย่างถูกวิธีครับ",
      class: "level-severe",
      nextAction: "go8Q",
      needSuicide: true,
    },
  ],
};

// ========== 8Q ==========
export const EIGHT_Q_CRITERIA = {
  questions: [
    {
      id: 1,
      text: "ในช่วง 1 เดือนที่ผ่านมา รวมถึงวันนี้ <br>ท่านมี<b>ความคิดอยากตาย</b> หรือ คิดว่าตายไปเสียดีกว่า",
      score: 1,
    },
    {
      id: 2,
      text: "ในช่วง 1 เดือนที่ผ่านมา รวมถึงวันนี้ <br>ท่านรู้สึก<b>อยากทำร้ายตัวเอง</b> หรือ ทำให้ตัวเองได้รับบาดเจ็บ",
      score: 2,
    },
    {
      id: 3,
      text: "ในช่วง 1 เดือนที่ผ่านมารวมทั้งวันนี้ <br>ท่านมี<b>คิดเกี่ยวกับการฆ่าตัวตาย</b>หรือไม่",
      score: 6,
    },
    {
      id: 4,
      text: "ในช่วง 1 เดือนที่ผ่านมารวมทั้งวันนี้ <br>ท่านมี<b>แผนการที่จะฆ่าตัวตาย</b>หรือไม่",
      score: 8,
    },
    {
      id: 5,
      text: "ในช่วง 1 เดือนที่ผ่านมารวมทั้งวันนี้ <br>ท่านได้<b>เตรียมการที่จะทำร้ายตนเอง</b>หรือเตรียมการจะฆ่าตัวตาย <br>โดยตั้งใจว่าจะให้ตายจริงๆ หรือไม่",
      score: 9,
    },
    {
      id: 6,
      text: "ท่านได้<b>ทำให้ตนเองบาดเจ็บ</b>แต่ไม่ตั้งใจที่จะทำให้เสียชีวิต",
      score: 4,
    },
    {
      id: 7,
      text: "ท่านได้<b>พยายามฆ่าตัวตาย</b>โดยคาดหวัง/ตั้งใจที่จะให้ตาย",
      score: 10,
    },
    {
      id: 8,
      text: "ตลอดชีวิตที่ผ่านมา ท่านเคย<b>พยายามฆ่าตัวตาย</b>",
      score: 4,
    },
  ],
  subQuestion: {
    text: "ท่านสามารถควบคุมความอยากฆ่าตัวตายที่ท่านคิดอยู่นั้นได้หรือไม่ หรือบอกได้ไหมว่าคงจะไม่ทำตามความคิดในขณะนี้",
    scoreRisk: 8, // ตอบ "มี" (เสี่ยง/ควบคุมไม่ได้)
    scoreSafe: 0  // ตอบ "ไม่มี" (ปลอดภัย/ควบคุมได้)
  },
  levels: [
    {
      max: 0,
      label: "ไม่มีแนวโน้ม",
      message: "ท่านไม่มีแนวโน้มฆ่าตัวตาย ในปัจจุบันครับ",
      class: "level-8q-none",
      color: "#28a745",
      showEmergency: false,
    },
    {
      max: 8,
      label: "ระดับน้อย",
      message: "ท่านมีแนวโน้มที่จะฆ่าตัวตายในปัจจุบัน ระดับน้อยครับ",
      class: "level-8q-mild",
      color: "#ffc107",
      showEmergency: false,
    },
    {
      max: 16,
      label: "ระดับปานกลาง",
      message: "ท่านมีแนวโน้มที่จะฆ่าตัวตายในปัจจุบัน ระดับปานกลางครับ",
      class: "level-8q-moderate",
      color: "#fd7e14",
      showEmergency: true,
    },
    {
      max: Infinity,
      label: "ระดับรุนแรง",
      message: "ท่านมีแนวโน้มที่จะฆ่าตัวตายในปัจจุบัน ระดับรุนแรงครับ",
      class: "level-8q-severe",
      color: "#dc3545",
      showEmergency: true,
    },
  ],
};

// ========== Helper Functions ==========

/**
 * หาระดับจากคะแนน ST-5
 */
export function getST5Level(score) {
  return ST5_CRITERIA.levels.find((level) => score <= level.max);
}

/**
 * หาระดับจากคะแนน 9Q
 */
export function get9QLevel(score) {
  return NINE_Q_CRITERIA.levels.find((level) => score <= level.max);
}

/**
 * หาระดับจากคะแนน 8Q
 */
export function get8QLevel(score) {
  return EIGHT_Q_CRITERIA.levels.find((level) => score <= level.max);
}
